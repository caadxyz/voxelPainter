<!DOCTYPE html>
<html>
    <head>
        <title>Edytor map</title>
        <meta charset="utf-8">
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
           <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <link href='http://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'>
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link type="text/css" rel="stylesheet" href="css/style.css">

    </head>
    <body>
    <!--    <div id="infoPanel">
            <h1><a href="http://threejs.org" target="_blank">three.js</a> - voxel painter, <br><strong>asdw</strong>: action, U- applies a selected material<br>
            <a download="document.json" href="javascript:save(scene,renderer);">save .png</a></h1>
        </div>-->




        <div class="main_menu">
            <div class="row">
                <div class="option col-xs-3 ">
                    <div id="create_button" class="button active" onclick="setMode('creatingMode')">+</div>
                </div>
                <div class="option col-xs-3">
                    <div class="button" id="modify_button" onclick="setMode('selectionMode')">✎</div>
                </div>
                <div class="option col-xs-3">
                    <div class="button" id="delete_button" onclick="setMode('deletingMode')">⌧</div>
                </div>
                <div class="option col-xs-3">
                    <div class="button" id="scene_button" onclick="setMode('splitingMode')">☀</div>
                </div>
            </div>
            <div class="row">
                <div id="content">


                    <div id="createPanel" class="panel">
                        <h1>CREATE MODE</h1>

                        <div  class="controls" >
                        <p>Width:<input type="number" name="singleWidth" id="singleWidth" value="1" min="0" max="100"> </p>
                        <p>Height:<input type="number" name="singleHeight" id="singleHeight" value="1" min="0" max="100"> </p>
                        <p>Length:<input type="number" name="singleLength" id="singleLength" value="1" min="0" max="100"> </p>
                    </div>
                        </div>
                    <div id="deletePanel" class="panel">
                      <h1>DELETE MODE</h1>
                    </div>
                    <div id="editPanel" class="panel">
                        <h1>EDIT MODE</h1>
                        <div id="actionPanel" class="panel">
                            <h2 id="editVoxel" class="checked" onclick="setEditMode('editingVoxel')"> > Voxel Mode</h2>

                            <h3>Transforms</h3><table id="transform">
                                    <tr><th></th><th>x</th><th>y</th><th>z</th></tr>
                                    <tr>
                                        <td onclick="setAction('translate')">Translate </td>
                                        <td><input type="number" id="tx" value="0"></td>
                                        <td><input type="number" id="ty" value="0"> </td>
                                        <td><input type="number"  id="tz" value="0"></td>
                                    </tr>
                                    <tr>
                                        <td onclick="setAction('scale')">Scale </td>
                                        <td><input type="number" id="sx" value="1" min="0.25"></td>
                                        <td><input type="number" id="sy" value="1" min="0.25"> </td>
                                        <td><input type="number"  id="sz" value="1" min="0.25"></td>
                                    </tr>
                                    <tr><td onclick="setAction('rotate')">Rotate </td>
                                        <td><input type="number" id="sx" value="0"></td>
                                        <td><input type="number" id="sy" value="0"> </td>
                                        <td><input type="number"  id="sz" value="0"></td>
                                    </tr>
                                    <tr></tr>
                                </table>
                            <h3>Group</h3>

                                    <button type="button" onclick="createGroup()">Create Group</button>
                                    <br/>
                                    <button type="button" onclick="splitGroup()">Split Group</button>

                            <h3>Spliting objects</h3>
                            <button type="button" onclick="splitMaterial()">Split horizontally</button>

                            <h3>Material</h3>
                            <div class="row">
                            <button type="button" onclick="setMaterial1(definedMaterial);" class="col-xs-7">Apply</button>
                            <div id="chooseMaterial" onclick='modifyPanel("materialPanel")' class="col-xs-3">bla</div>
                            </div>
                            <h2 id="editWalls" onclick="setEditMode('editingWalls')" > > Walls Mode</h2>
                            <div id="currentPanel" class="panel" onclick=modifyPanel("materialPanel")>
                                <h3>MATERIAL: </h3>

                                <p>Texture: <span id="currentTexture"></span></p>
                                <p>Color: <span id="currentColor"></span></p>
                                <p>Opacity: <span id="currentOpacity"></span></p>

                            </div>
                        </div>


                    </div>


                    <div id="scenePanel" class="panel">
                        <h1>SCENE SETTINGS</h1>

                        <div  class="controls" >
                            <button onClick="clearGrid()">Clear All</button>
                            <p>Width:<input type="text" name="sceneWidth" id="sceneWidth" value="500"> </p>
                            <p>Height:<input type="text" name="sceneHeight" id="sceneHeight" value="500"> </p>
                            <button id="sceneSubmit" onClick="updateGrid(document.getElementById('sceneWidth').value, document.getElementById('sceneHeight').value)">Change Grid</button><br/>
                    </div>

                    </div>

                </div>

            </div>

        </div>


        <div id="pop_up">
        <div id="materialPanel" class="panel">

                <div class="pop_up_window">
                    <div class="pop_up_title"> DO you want to buy this? </div>
                    <div class="pop_up_content"> Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
                        sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
                        sed diam voluptua.
                    </div>
                    <div class="pop_up_nav">
                        <div class="btn ok_btn" onclick="save(); hide('pop_up')">OK</div>
                        <div class="btn cancel_btn" onclick="hide('pop_up')">CANCEL</div>
                    </div>
                </div>



            <h1>Define material:</h1>
            <div id="textureMaterial">

                    <?
                $files = glob("images/*.*");
                for ($i = 1; $i < count($files); $i++) {
                    $num = $files[$i];
                    $bas = basename($num);
                    echo '<img src="' . $num . '" alt="' . $bas . '" onclick="setTexture(this.src, this.alt)">' . "&nbsp;&nbsp;";
                    }
                    ?>

            </div>

            <p>repeats of texture (x,y)</p>
            <input type="number" class="material" name="repeatY" id="repeatY" value='1' max='8' onchange="defineMaterial()">
            <input type="number" class="material" name="repeatX" id="repeatX" value='1' max='8' onchange="defineMaterial()">
            <br/>
            
            <p>color(rgb)</p>
            <input type="number" class="material" name="matRed" id="matRed" value='255' max='255' onchange="defineMaterial()">
            <input type="number" class="material" name="matGreen" id="matGreen" value='255' max='255' onchange="defineMaterial()">
            <input type="number" class="material" name="matBlue" id="matBlue" value='255' max='255' onchange="defineMaterial()">
            <br/>
            
            <p>Transparency</p>
            <input type="range" name="matOpacity" id="matOpacity" value="20" min="0" max="20" onchange="defineMaterial()">
        </div>
        </div>






        <script src="js/vendor/three.min.js"></script>
        <script src="js/vendor/SceneExporter.js"></script>
        <script src="js/vendor/FileSaver.js"></script>

        <script src="js/loaders/ctm/lzma.js"></script>
        <script src="js/loaders/ctm/ctm.js"></script>
        <script src="js/loaders/ctm/CTMLoader.js"></script>

        <script src="js/loaders/OBJLoader.js"></script>
        <script src="js/loaders/VTKLoader.js"></script>
        <script src="js/loaders/STLLoader.js"></script>
        <script src="js/loaders/ColladaLoader.js"></script>
        <script src="js/loaders/UTF8Loader.js"></script>
        <script src="js/loaders/MTLLoader.js"></script>
        <script src="js/cameraSettings.js"></script>
        <script src="js/vendor/three.min.js"></script>

    <input type="range" name="height" id="height" value="1" min="0" max="10" style="display:none">
        <script src="scr.js"></script>
    </body>
</html>
